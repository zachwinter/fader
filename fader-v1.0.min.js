 /*
 * 
 *	fader.js v1.0 (c) 2014
 *	Expandable Fading Content Slideshow
 * 
 *	@author:  Zach Winter (contact@zachwinter.com)
 *	@license: MIT (http://www.opensource.org/licenses/mit-license.php)
 *
 */

;(function(e,t,n,r){"use strict";function s(e){var t=this;t.queue=[];t.active=0;t.add=function(e){t.queue.push(e)};t.reset=function(){t.queue=[];t.active=0};t.next=function(e){t.active++;setTimeout(function(){if(typeof t.queue[t.active]==="function"){t.queue[t.active](e)}},20)};t.start=function(e){t.queue[0](e)}}function o(o,u){var a=this;a.container=e(o);a.options=e.extend({},i,u);a.timer=null;a.active=1;a.changing=false;a.autoDisabled=false;a.transitions=false;a.vendorPrefix=null;a.transitionEnd=null;a.els={slides:a.container.find("> *"),previous:e(a.options.previous),next:e(a.options.next),bullets:e(a.options.bullets),breakout:e(a.options.breakout),init:{container:function(){var e=a.container.css("position");if(e!=="absolute"&&e!=="relative"&&e!=="fixed"){a.container.css("position","relative")}a.container.css("overflow","hidden")},slides:function(){a.els.slides.each(function(){e(this).attr("data-slide",e(this).index()+1)});a.els.slides.css({display:"none",position:"absolute",top:0,width:"100%",height:"100%"});a.els.slides.eq(0).css({position:"relative",display:"block"})},bullets:function(){for(var e=0;e<a.els.slides.length;e++){a.els.bullets.append('<li><a href="#" data-target="'+(e+1)+'">&nbsp;</a></li>')}a.els.bullets.find("li:first-child a").addClass("active");a.bind.bullets()},breakout:function(){a.els.breakout.find("> *").each(function(){e(this).attr("data-breakout",e(this).index()+1)})}}};a.bind={bullets:function(){e(n).on("click",a.els.bullets.selector,function(t){var n=e(this),r=e(this).attr("data-target");if(!n.hasClass("active")&&a.changing===false){a.els.bullets.find("a").removeClass("active");n.addClass("active");a.selectSlide(r)}if(a.options.userDisable===true){a.options.autoSwap=false;a.autoDisabled=true}t.preventDefault()})},keyboard:function(){e(n).on("keydown",function(e){if(e.keyCode===37&&a.changing===false){a.selectSlide("previous");if(a.options.userDisable===true){a.options.autoSwap=false;a.autoDisabled=true}}if(e.keyCode===39&&a.changing===false){a.selectSlide("next");if(a.options.userDisable===true){a.options.autoSwap=false;a.autoDisabled=true}}})},previous:function(){e(n).on("click",a.els.previous.selector,function(e){if(a.changing===false){a.selectSlide("previous");if(a.options.userDisable===true){a.options.autoSwap=false;a.autoDisabled=true}}e.preventDefault()})},next:function(){e(n).on("click",a.els.next.selector,function(e){if(a.changing===false){a.selectSlide("next");if(a.options.userDisable===true){a.options.autoSwap=false;a.autoDisabled=true}}e.preventDefault()})}};a.selectSlide=function(e){var t=null;a.changing=true;if(e==="previous"){if(a.active===1){t=a.els.slides.length}else{t=a.active-1}}if(e==="next"){if(a.active===a.els.slides.length){t=1}else{t=a.active+1}}if(a.options.bullets!==false){a.els.bullets.find("a").removeClass("active");a.els.bullets.find('[data-target="'+t+'"]').addClass("active")}a.swapSlide(t)};a.swapSlide=function(t){var n=e('[data-slide="'+a.active+'"]'),r=e('[data-slide="'+t+'"]');a.options.changeStart({instance:a,currentSlide:a.active,targetSlide:t,totalSlides:a.els.slides.length,options:a.options});a.container.css("height",a.container.height());n.css({position:"absolute","z-index":a.options.baseIndex});r.css({"z-index":a.options.baseIndex+10});a.fadeIn(r,function(){r.css("position","relative");n.hide();a.active=t;a.changing=false;a.container.css("height","auto");if(a.options.autoSwap===true&&a.autoDisabled===false){a.autoSwap()}})};a.autoSwap=function(){clearTimeout(a.timer);a.timer=setTimeout(function(){if(a.changing===false){a.selectSlide("next")}},a.options.swapDelay)};a.resizePause=function(){var n=null;e(t).on("resize",function(){if(n!==false){clearTimeout(n)}a.changing=true;n=setTimeout(function(){a.changing=false;if(a.options.autoSwap===true){a.autoSwap()}},300)})};a.fadeIn=function(e,t){if(a.transitions===true){e.Q=new s(e);e.Q.add(function(){e.css(a.vendorPrefix+"transition","none");e.css({display:"block",opacity:"0"});e.css(a.vendorPrefix+"transition","opacity "+a.options.fadeSpeed/1e3+"s ease");e.Q.next()});e.Q.add(function(){e.on(a.transitionEnd,function(n){n.stopPropagation();e.off(a.transitionEnd).css({display:"block",opacity:"1"});e.removeAttr("data-transition");if(typeof t==="function")t()});e.Q.next()});e.Q.add(function(){e.attr("data-transition","fadeIn").css("opacity","1");e.Q.next()});e.Q.start()}else{e.fadeIn(a.options.fadeSpeed,t)}},a.determineTransitions=function(){var e=n.createElement("div").style,t=[e.transition,e.WebkitTransition,e.MozTransition,e.msTransition,e.oTransition],i=["","-webkit-","-moz-","-ms-","-o-"],s=["transitionend","webkitTransitionEnd","transitionend","msTransitionEnd","oTransitionEnd"];for(var o=0;o<t.length;o++){if(t[o]!==r){a.transitions=true;a.vendorPrefix=i[o];a.transitionEnd=s[o];break}}},a.init=function(){var e=a,t=e.options;e.determineTransitions();e.els.init.container();e.els.init.slides();if(t.breakout!==false){e.els.init.breakout()}if(t.bullets!==false){e.els.init.bullets()}if(t.keyboard===true){e.bind.keyboard()}if(t.previous!==false){e.bind.previous()}if(t.next!==false){e.bind.next()}if(t.autoSwap===true){e.autoSwap()}if(t.resizePause===true){e.resizePause()}};if(a){a.init()}}var i={baseIndex:0,fadeSpeed:1500,swapDelay:7500,autoSwap:true,keyboard:true,bullets:false,fixedAspect:false,previous:false,next:false,breakout:false,resizePause:true,userDisable:true,changeStart:function(e){},changeEnd:function(e){}};e.fn.fader=function(t){return this.each(function(){if(!e.data(this,"plugin_fader")){e.data(this,"plugin_fader",new o(this,t))}})}})(jQuery,window,document);